<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#0c4a6e">
    <title>Reflex Rush</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- Placeholder for AdMob Banner (handled by native wrapper) -->
    <div id="admob-banner-container"></div>

    <!-- Top Controls -->
    <div class="top-controls">
        <button id="music-toggle" class="ctrl-btn">
            <svg id="icon-music-on" class="icon-md hidden" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none">
                <path stroke-linecap="round" stroke-linejoin="round" d="M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3" />
            </svg>
            <svg id="icon-music-off" class="icon-md text-slate-400" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none">
                <path stroke-linecap="round" stroke-linejoin="round" d="M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3" />
                <path stroke-linecap="round" stroke-linejoin="round" d="M3 3l18 18" />
            </svg>
        </button>

        <button id="sound-toggle" class="ctrl-btn">
            <svg id="icon-sound-on" class="icon-md text-white" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none">
                <path stroke-linecap="round" stroke-linejoin="round" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z" />
            </svg>
            <svg id="icon-sound-off" class="icon-md text-slate-400 hidden" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none">
                <path stroke-linecap="round" stroke-linejoin="round" d="M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z" />
                <path stroke-linecap="round" stroke-linejoin="round" d="M17 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2" />
            </svg>
        </button>
    </div>

    <div class="timer-container hidden">
        <div id="timer-bar"></div>
    </div>

    <!-- MAIN MENU -->
    <div id="menu-scene" class="scene">
        <div class="text-center mb-8">
            <h1 class="menu-title">REFLEX RUSH</h1>
        </div>

        <div class="flex flex-col items-center w-full">
            <div id="btn-classic" class="mode-card card-classic">
                <div>
                    <h2 class="card-label">CLASSIC</h2>
                    <p class="card-sub text-cyan-400-70">Speed Run</p>
                </div>
                <div class="text-right">
                     <p class="card-score-label">Best</p>
                     <p id="best-score-classic-menu" class="card-score-val">0</p>
                </div>
            </div>

            <div id="btn-frenzy" class="mode-card card-frenzy">
                <div>
                    <h2 class="card-label">FRENZY</h2>
                    <p class="card-sub text-sky-600-70">Multi-Target</p>
                </div>
                <div class="text-right">
                     <p class="card-score-label">Best</p>
                     <p id="best-score-frenzy-menu" class="card-score-val">0</p>
                </div>
            </div>

            <div id="btn-memory" class="mode-card card-memory">
                <div>
                    <h2 class="card-label">MEMORY</h2>
                    <p class="card-sub text-yellow-400">Simon Says</p>
                </div>
                <div class="text-right">
                     <p class="card-score-label">Best</p>
                     <p id="best-score-memory-menu" class="card-score-val">0</p>
                </div>
            </div>
        </div>
    </div>

    <!-- GAMEPLAY -->
    <div id="game-scene" class="scene hidden">
        <div class="game-hud">
            <div class="flex flex-col">
                <span id="mode-label" class="mode-display">Classic</span>
                <span id="current-score" class="score-display">0</span>
            </div>
            <div id="combo-badge" class="combo-container">
                <span class="combo-label">Streak</span>
                <span id="combo-val" class="combo-val">0</span>
            </div>
        </div>

        <div id="memory-status" class="memory-status hidden"></div>
        <div id="game-area" class="relative w-full h-full flex items-center justify-center"></div>
    </div>

    <!-- GAME OVER -->
    <div id="game-over-scene" class="scene hidden game-over-modal z-50">
        <div class="final-score-area">
            <span class="game-over-title">GAME OVER</span>
            <div id="final-score" class="final-score-val">0</div>
            <p id="over-message" class="pb-label">Personal Best</p>
        </div>

        <div class="go-controls">
            <button id="btn-continue" class="hidden btn-revive">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon-md text-slate-900" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
                    <path stroke-linecap="round" stroke-linejoin="round" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
                SECOND CHANCE
            </button>

            <div class="btn-grid">
                <button id="btn-play-again" class="sq-btn btn-white">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon-md text-cyan-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                    </svg>
                    PLAY AGAIN
                </button>

                <button id="btn-menu" class="sq-btn btn-glass">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon-md" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
                    </svg>
                    MENU
                </button>
            </div>
        </div>
    </div>

    <!-- Revive Overlay -->
    <div id="revive-overlay" class="hidden">
        <h2 class="revive-title">GET READY</h2>
        <p id="revive-timer" class="revive-timer">3</p>
    </div>

    <script src="script.js"></script>
</body>
</html>